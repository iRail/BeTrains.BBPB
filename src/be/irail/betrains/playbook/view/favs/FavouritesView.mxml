<?xml version="1.0" encoding="utf-8"?>
<components:MainViewItem xmlns:fx="http://ns.adobe.com/mxml/2009"
						 xmlns:s="library://ns.adobe.com/flex/spark"
						 xmlns:mx="library://ns.adobe.com/flex/mx"
						 xmlns:components="be.irail.betrains.playbook.view.components.*"
						 width="100%"
						 height="100%"
						 xmlns:favs="be.irail.betrains.playbook.view.favs.*">
	<fx:Declarations>
		<favs:FavouritesPresentationModel id="presentationModel"/>
	</fx:Declarations>
	<components:states>
		<s:State name="none"/>
		<s:State name="favourites"/>
	</components:states>

	<fx:Script>
		<![CDATA[
			import be.irail.betrains.playbook.controller.ModelLocator;

			import mx.collections.ArrayCollection;

			import qnx.locale.LocaleManager;

			public function get favourites():ArrayCollection {
				return presentationModel.favourites;
			}

			public function set favourites(value:ArrayCollection):void {
				if (value != favourites) {
					presentationModel.favourites = value;

					if (!value || value.length == 0) {
						this.currentState = "none";
					} else {
						this.currentState = "favourites";
					}
				}
			}

			override public function make():void {
				this.favourites = ModelLocator.getInstance().favourites;
			}
		]]>
	</fx:Script>

	<s:Label textAlign="center"
			 fontSize="40"
			 color="#1F1F1F"
			 alpha=".3"
			 horizontalCenter="0"
			 verticalCenter="0"
			 fontWeight="bold"
			 includeIn="none"
			 text="{LocaleManager.localeManager.getResource('favs.none')}"/>
</components:MainViewItem>
